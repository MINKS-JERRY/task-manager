import{C as h,F as l,H as n,I as r,J as _,K as u,L as d,M as k,N as b,O as A,Q as i,ba as x,ca as L,da as M,fa as S,ga as I,ha as O,ia as P,ja as y,ka as R,la as T,ma as w,n as m,na as a,p as f,q as g,v as s,x as v,y as C}from"./chunk-LJUGKNIQ.js";function G(t,o){t&1&&(u(0),n(1,"a",2),i(2,"Login"),r(),n(3,"a",3),i(4,"Register"),r(),d())}function N(t,o){if(t&1){let e=k();u(0),n(1,"a",4),i(2,"My Tasks"),r(),n(3,"button",5),b("click",function(){f(e);let D=A();return g(D.logout())}),i(4,"Logout"),r(),d()}}var p=class t{constructor(o){this.authService=o}get isLoggedIn(){return this.authService.isLoggedIn()}logout(){this.authService.logout()}static \u0275fac=function(e){return new(e||t)(v(a))};static \u0275cmp=C({type:t,selectors:[["app-root"]],decls:4,vars:2,consts:[[1,"app-nav"],[4,"ngIf"],["routerLink","/login","routerLinkActive","active"],["routerLink","/register","routerLinkActive","active"],["routerLink","/tasks","routerLinkActive","active"],[3,"click"]],template:function(e,c){e&1&&(n(0,"nav",0),h(1,G,5,0,"ng-container",1)(2,N,5,0,"ng-container",1),r(),_(3,"router-outlet")),e&2&&(s(),l("ngIf",!c.isLoggedIn),s(),l("ngIf",c.isLoggedIn))},dependencies:[w,O,y,R,L,x],styles:[".app-nav[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 4px #0000001a;padding:1rem;margin-bottom:2rem;display:flex;justify-content:center;gap:1.5rem}.app-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6c757d;text-decoration:none;font-size:1rem;padding:.5rem 1rem;border-radius:4px;transition:all .2s}.app-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}.app-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff;background-color:#007bff1a}.app-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:1px solid #dc3545;color:#dc3545;padding:.5rem 1rem;border-radius:4px;cursor:pointer;font-size:1rem;transition:all .2s}.app-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}"]})};var E=()=>{let t=m(a),o=m(P);return t.isLoggedIn()?!0:(o.navigate(["/login"]),!1)};var z=[{path:"login",loadComponent:()=>import("./chunk-HRFJSU6U.js").then(t=>t.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-WVLK2BXS.js").then(t=>t.RegisterComponent)},{path:"tasks",loadComponent:()=>import("./chunk-ZULL2ASA.js").then(t=>t.TaskListComponent),canActivate:[E]},{path:"",redirectTo:"/tasks",pathMatch:"full"},{path:"**",redirectTo:"/tasks"}];var V={production:!1,apiUrl:"https://task-manager-backend-zbwq.onrender.com/api"};function H(t,o){let e=localStorage.getItem("token");return e&&(t=t.clone({setHeaders:{Authorization:`Bearer ${e}`}})),o(t)}var j={providers:[{provide:"environment",useValue:V},T(z),S(I([H]))]};M(p,j).catch(t=>console.error(t));
