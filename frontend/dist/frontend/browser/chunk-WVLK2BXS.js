import{a as T,b as W,c as F,d as q,e as A,f as k,g as L,h as D}from"./chunk-EXJH2W3I.js";import{C as u,F as c,H as t,I as e,M as y,N as b,O as x,P as f,Q as o,S as O,T as _,U as C,V as w,ba as S,c as h,ca as R,ia as E,ja as V,ma as I,na as N,p as l,q as p,v as d,x as M,y as v}from"./chunk-LJUGKNIQ.js";function B(s,m){s&1&&(t(0,"div",16),o(1," Username is required "),e())}function U(s,m){s&1&&(t(0,"div",16),o(1," Password is required "),e())}function G(s,m){s&1&&(t(0,"div",16),o(1," Please confirm your password "),e())}function z(s,m){if(s&1&&(t(0,"div",16),o(1),e()),s&2){let a=x();d(),O(" ",a.error," ")}}var j=class s{constructor(m,a){this.authService=m;this.router=a}user={username:"",password:"",confirmPassword:""};error="";onRegister(){if(this.error="",!this.user.username||!this.user.password||!this.user.confirmPassword){this.error="All fields are required";return}if(this.user.password!==this.user.confirmPassword){this.error="Passwords do not match";return}if(this.user.password.length<6){this.error="Password must be at least 6 characters long";return}let n=this.user,{confirmPassword:m}=n,a=h(n,["confirmPassword"]);console.log("Attempting registration with:",{username:a.username}),this.authService.register(a).subscribe({next:i=>{console.log("Registration successful:",i),this.router.navigate(["/login"])},error:i=>{console.error("Registration error:",i),i.status===0?this.error="Unable to connect to the server. Please try again later.":this.error=i.error?.message||"Registration failed. Please try again."}})}static \u0275fac=function(a){return new(a||s)(M(N),M(E))};static \u0275cmp=v({type:s,selectors:[["app-register"]],decls:30,vars:8,consts:[["registerForm","ngForm"],["username","ngModel"],["password","ngModel"],["confirmPassword","ngModel"],[1,"register-container"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["routerLink","/login"],[1,"error"]],template:function(a,n){if(a&1){let i=y();t(0,"div",4)(1,"h2"),o(2,"Register"),e(),t(3,"form",5,0),b("ngSubmit",function(){return l(i),p(n.onRegister())}),t(5,"div",6)(6,"label",7),o(7,"Username:"),e(),t(8,"input",8,1),w("ngModelChange",function(r){return l(i),C(n.user.username,r)||(n.user.username=r),p(r)}),e(),u(10,B,2,0,"div",9),e(),t(11,"div",6)(12,"label",10),o(13,"Password:"),e(),t(14,"input",11,2),w("ngModelChange",function(r){return l(i),C(n.user.password,r)||(n.user.password=r),p(r)}),e(),u(16,U,2,0,"div",9),e(),t(17,"div",6)(18,"label",12),o(19,"Confirm Password:"),e(),t(20,"input",13,3),w("ngModelChange",function(r){return l(i),C(n.user.confirmPassword,r)||(n.user.confirmPassword=r),p(r)}),e(),u(22,G,2,0,"div",9),e(),u(23,z,2,1,"div",9),t(24,"button",14),o(25,"Register"),e(),t(26,"p"),o(27,"Already have an account? "),t(28,"a",15),o(29,"Login"),e()()()()}if(a&2){let i=f(4),g=f(9),r=f(15),P=f(21);d(8),_("ngModel",n.user.username),d(2),c("ngIf",g.invalid&&(g.dirty||g.touched)),d(4),_("ngModel",n.user.password),d(2),c("ngIf",r.invalid&&(r.dirty||r.touched)),d(4),_("ngModel",n.user.confirmPassword),d(2),c("ngIf",P.invalid&&(P.dirty||P.touched)),d(),c("ngIf",n.error),d(),c("disabled",!i.form.valid)}},dependencies:[R,S,D,k,T,W,F,L,A,q,I,V],styles:[".register-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:90vh;padding:20px}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;background-color:#fff}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;text-align:center}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{j as RegisterComponent};
